, overwrite: bool) -> None:\n    timestamp = datetime.now(tz=timezone.utc).isoformat()\n    df_new = pd.DataFrame(rows)\n    df_new[\"analysis_timestamp\"] = timestamp\n    df_new[\"seed\"] = seed\n\n    if results_csv.exists():\n        existing = pd.read_csv(results_csv)\n    else:\n        existing = pd.DataFrame(columns=RESULT_COLUMNS)\n\n    existing = existing[[c for c in existing.columns if c in RESULT_COLUMNS]]\n\n    if overwrite:\n        existing = existing[~existing[\"hypothesis_id\"].isin(df_new[\"hypothesis_id\"])]\n    else:\n        mask = existing[\"hypothesis_id\"].isin(df_new[\"hypothesis_id\"])\n        existing = existing[~mask]\n\n    combined = pd.concat([existing, df_new], ignore_index=True)\n    combined = combined[RESULT_COLUMNS]\n    combined.sort_values(by=\"hypothesis_id\", inplace=True)\n    results_csv.parent.mkdir(parents=True, exist_ok=True)\n    combined.to_csv(results_csv, index=False)\n    logging.info(\"Wrote results to %s\", results_csv)\n\n\ndef validate_design_assumption(survey_design_path: Path) -> None:\n    if not survey_design_path.exists():\n        raise FileNotFoundError(\n            f\"Survey design file {survey_design_path} is required to document SRS assumption.\"\n        )\n    with survey_design_path.open(\"r\", encoding=\"utf-8\") as fh:\n        design = yaml.safe_load(fh)\n    assumed = design.get(\"assumed_design\")\n    if assumed != \"simple_random_sampling\":\n        raise ValueError(\n            \"Confirmatory models currently implemented only for simple random sampling. \"\n            f\"Found assumed_design={assumed!r}.\"\n        )\n\n\ndef main() -> None:\n    args = parse_args()\n    configure_logging(args.log_level)\n\n    config = load_config(Path(args.config))\n    seed = int(config.get(\"seed\", 0) or 0)\n    if seed <= 0:\n        raise ValueError(\"Global seed must be a positive integer in config/agent_config.yaml.\")\n    seed_everything(seed)\n    logging.info(\"Global seed set to %d\", seed)\n\n    validate_design_assumption(Path(args.survey_design))\n\n    requested = args.hypotheses\n    unknown = [hyp for hyp in requested if hyp not in HYPOTHESES]\n    if unknown:\n        raise KeyError(f\"Hypotheses not registered in confirmatory registry: {unknown}\")\n\n    specs = [HYPOTHESES[hyp] for hyp in requested]\n    required_columns = sorted({col for spec in specs for col in spec.required_columns()})\n    df = load_dataset(Path(args.dataset), required_columns)\n\n    results: List[Dict[str, object]] = []\n    for spec in specs:\n        row = run_model_for_spec(df, spec)\n        results.append(row)\n\n    update_results_csv(Path(args.results_csv), results, seed=seed, overwrite=args.overwrite)\n\n\nif __name__ == \"__main__\":\n    main()\n","mode":"text"},{"path":"analysis/results.csv","content":"hypothesis_id,model,n_unweighted,n_weighted,estimate,se,ci_low,ci_high,p_value,q_value,effect_size_metric,robustness_passed,limitations,confidence_rating,analysis_timestamp,seed\nHYP-001,ols_hc3_srs,14436,14436.0,0.18118588970135763,0.011997632129033297,0.15766899040929983,0.20470278899341543,3.873525838182848e-51,,slope_per_unit,N,,Pending,2025-11-04T08:19:22.221523+00:00,20251016.0\nHYP-003,ols_hc3_srs,14437,14437.0,-0.4905027134735744,0.036518117909680924,-0.5620829125486829,-0.41892251439846584,6.933341034253468e-41,,difference_in_means,N,,Pending,2025-11-04T08:19:22.221523+00:00,20251016.0\n","mode":"text"},{"path":"analysis/decision_log.csv","content":"ts,action,inputs,rationale_short,code_path,outputs,status\n2025-11-03T20:01:43Z,bootstrap,docs/codebook.json;docs/survey_design.yaml;config/agent_config.yaml,\"Initialized bootstrap scaffolding, hypotheses, PAP draft, and regen script.\",N/A,artifacts/state.json;analysis/hypotheses.csv;analysis/pre_analysis_plan.md,success\n2025-11-03T20:18:32Z,validate_design,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,\"Confirmed no survey weights; default to SRS.\",analysis/code/validate_survey_design.py,docs/survey_design.yaml;qc/survey_design_validation.md,success\n2025-11-03T20:23:05Z,regen_design,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,\"Regenerated design artifacts after script refactor.\",analysis/code/validate_survey_design.py,docs/survey_design.yaml;qc/survey_design_validation.md,success\n2025-11-03T20:24:59Z,regen_design,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,\"Refined validation script for leaner reproducibility footprint.\",analysis/code/validate_survey_design.py,docs/survey_design.yaml;qc/survey_design_validation.md,success\n2025-11-03T20:26:59Z,regen_design,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,\"Re-executed lean validation script to refresh artifacts.\",analysis/code/validate_survey_design.py,docs/survey_design.yaml;qc/survey_design_validation.md,success\n2025-11-03T20:29:10Z,regen_design,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,\"Compressed validation script and refreshed outputs.\",analysis/code/validate_survey_design.py,docs/survey_design.yaml;qc/survey_design_validation.md,success\n2025-11-03T20:29:10Z,regen_design,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,Compressed validation script and refreshed outputs.,analysis/code/validate_survey_design.py,docs/survey_design.yaml;qc/survey_design_validation.md,success\n2025-11-03T20:34:14Z,exploratory_summary,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,\"Generated exploratory outcome summaries under SRS.\",analysis/code/eda_weighted_summaries.py,tables/exploratory_outcome_summary.csv;tables/exploratory_outcome_distribution.csv,success\n2025-11-03T20:34:14Z,exploratory_summary,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,Generated exploratory outcome summaries under SRS.,analysis/code/eda_weighted_summaries.py,tables/exploratory_outcome_summary.csv;tables/exploratory_outcome_distribution.csv,success\n2025-11-03T20:44:20Z,schema_alignment,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,Regenerated codebook schema with suppressed small cells.,analysis/code/align_codebook_schema.py,docs/codebook.json;qc/schema_alignment.md,success\n2025-11-03T20:47:13Z,schema_alignment,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,Trimmed published frequencies to limit sparse tail disclosure.,analysis/code/align_codebook_schema.py,docs/codebook.json;qc/schema_alignment.md,success\n2025-11-03T20:48:21Z,schema_alignment,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,Refreshed codebook notes to current timestamp.,analysis/code/align_codebook_schema.py,docs/codebook.json;qc/schema_alignment.md,success\n2025-11-03T20:50:32Z,schema_alignment,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,Streamlined codebook to summary-only metadata for disclosure control.,analysis/code/align_codebook_schema.py,docs/codebook.json;qc/schema_alignment.md,success\n2025-11-03T20:50:32Z,schema_alignment,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml,Streamlined codebook to summary-only metadata for disclosure control.,analysis/code/align_codebook_schema.py,docs/codebook.json;qc/schema_alignment.md,success\n2025-11-03T20:56:41Z,missingness_profile,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml;analysis/hypotheses.csv,\"Profiled hypothesis missingness; suppressed <10 cells.\",analysis/code/profile_missingness.py,tables/missingness_profile.csv;tables/missingness_patterns.csv;tables/missingness_profile.meta.json,success\n2025-11-03T20:56:41Z,missingness_profile,childhoodbalancedpublic_original.csv;docs/codebook.json;config/agent_config.yaml;analysis/hypotheses.csv,Profiled hypothesis missingness; suppressed <10 cells.,analy